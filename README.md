# malware-analysis

This project uses the EMBER (Elastic Malware Benchmark for Empowering Researchers) dataset to train transformers using the HuggingFace API. 
For more information about the EMBER dataset, visit https://github.com/elastic/ember. 

## Dataset<br>
#### Program uses a copy of the dataset in JSON format
Copy of the dataset in JSON format can be found at https://huggingface.co/datasets/cw1521/ember2018-malware<br>

#### Original Dataset
To create a local copy of the dataset, download the files from 
https://ember.elastic.co/ember_dataset_2018_2.tar.bz2. Then unzip the files to the dataset folder and run the create_dataset script.

## Installation
#### Requirements
This program requires Anaconda 3
### Installation Steps
1. Download and install Anaconda 3 https://www.anaconda.com/download/success
2. Clone this git repository
3. Navigate to the folder of the repository in terminal and type the command `conda env create -n "name of environment" --file environment.yml`
4. Type `conda activate "name of environment` to activate the newly created environment
5. Type `./bin/run_trainer.bat` in command prompt for windows or `bash ./bin/run_trainer.sh` for linux to run the program.

## Usage 
The script in bin can be used to call the program (edit as needed).<br>
#### Example Calls
Train: <br>
`python -m malware-analysis --model_checkpoint=allenai/longformer-base-4096 --dataset_name=cw1521/ember2018-malware --model_name=ma-ember-10 --mode=train --num_epochs=10`<br><br>
Test: <br>
`python -m malware-analysis --model_checkpoint=allenai/longformer-base-4096 --dataset_name=cw1521/ember2018-malware --model_name=ma-ember-1 --mode=test --num_epochs=1`<br><br>